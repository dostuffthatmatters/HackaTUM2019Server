(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports=o.p+"media/git_logo.48f45c2e.svg"},function(e,t,o){e.exports=o.p+"media/Commit-Logo.d56da875.svg"},function(e,t,o){e.exports=o.p+"media/edit_logo.fadbd09b.svg"},function(e,t,o){e.exports=o.p+"media/BackArrow.87285bb7.svg"},function(e,t,o){e.exports=o.p+"media/MergeInPeaceLogo.a562bed7.png"},function(e,t,o){e.exports=o(27)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var a=o(0),r=o.n(a),n=o(8),s=o.n(n),i=o(2),c=o(3),p=o(6),l=o(4),h=o(1),m=o(5),d=(o(19),o(20),o(9)),u=o.n(d),g=(o(21),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Repository",onClick:function(){return e.props.changePath(e.props.name,"",[])}},r.a.createElement("img",{className:"Logo",src:u.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label"},this.props.name))}}]),t}(a.Component)),v=o(10),f=o.n(v),y=(o(22),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Commit",onClick:function(){return e.props.changePath(e.props.repository,e.props.hash,[])}},r.a.createElement("img",{className:"Logo",src:f.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label"},this.props.hash))}}]),t}(a.Component)),E=o(11),b=o.n(E),k=(o(23),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Edit"},r.a.createElement("img",{className:"Logo",src:b.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label Label1"},this.props.editObject.file_id.replace(/___/g,"/")),r.a.createElement("div",{className:"Label Label2"},this.props.editObject.user_id))}}]),t}(a.Component));o(24);function C(){return r.a.createElement("div",{className:"Spinner"},r.a.createElement("div",{className:"Arc1"}),r.a.createElement("div",{className:"Arc2"}))}var w={refresh:r.a.createElement("svg",{alt:"Refresh Icon",title:"Reload Repository-Information",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"1 1 22 22"},r.a.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),remove:r.a.createElement("svg",{alt:"Remove Icon",title:"Remove Information",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"1 1 22 22"},r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},O=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(p.a)(this,Object(l.a)(t).call(this,e))).getRepoContent=o.getRepoContent.bind(Object(h.a)(o)),o.getCommitContent=o.getCommitContent.bind(Object(h.a)(o)),o.getEditContent=o.getEditContent.bind(Object(h.a)(o)),o.state={repositories:[],commits:[],edits:[]},o}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getRepoContent",value:function(){var e,t,o=this;console.log({page:"repo",records:this.props.records});var a=this.props.records.count,n=this.props.records.ids;return e=0===a?r.a.createElement("div",{className:"Empty"},"Not keeping track of any repositories"):n.map(function(e,t){return r.a.createElement(g,{name:e,changePath:o.props.changePath})}),t=r.a.createElement("div",{className:"ButtonWrapper"},r.a.createElement("div",{className:"Icon IconRefresh",onClick:function(){return window.location.reload()}},w.refresh),r.a.createElement("div",{className:"Icon IconRemove",onClick:this.props.triggerRemove},w.remove)),r.a.createElement("div",{className:"Content"},t,e)}},{key:"getCommitContent",value:function(){var e,t,o=this;console.log({page:"commit",records:this.props.records});var a=this.props.records.records[this.props.repository].count,n=this.props.records.records[this.props.repository].ids;return e=0===a?r.a.createElement("div",{className:"Empty"},"Not keeping track of any commits"):n.map(function(e,t){return r.a.createElement(y,{hash:e,changePath:o.props.changePath,repository:o.props.repository})}),t=r.a.createElement("div",{className:"ButtonWrapper"},r.a.createElement("div",{className:"Icon IconRefresh",onClick:function(){return window.location.reload()}},w.refresh),r.a.createElement("div",{className:"Icon IconRemove",onClick:this.props.triggerRemove},w.remove)),r.a.createElement("div",{className:"Content"},t,e)}},{key:"getEditContent",value:function(){var e,t;console.log({page:"edit",records:this.props.records});var o=this.props.records.records[this.props.repository].records[this.props.commit].count,a=this.props.records.records[this.props.repository].records[this.props.commit].records;return e=0===o?r.a.createElement("div",{className:"Empty"},"Not keeping track of any edits"):a.map(function(e,t){return r.a.createElement(k,{editObject:e})}),t=r.a.createElement("div",{className:"ButtonWrapper"},r.a.createElement("div",{className:"Icon IconRefresh",onClick:function(){return window.location.reload()}},w.refresh),r.a.createElement("div",{className:"Icon IconRemove",onClick:this.props.triggerRemove},w.remove)),r.a.createElement("div",{className:"Content"},t,e)}},{key:"render",value:function(){var e;return console.log({repository:this.props.repository,commit:this.props.commit}),e=this.props.loading?r.a.createElement(C,null):""===this.props.repository?this.getRepoContent():""===this.props.commit?this.getCommitContent():this.getEditContent(),r.a.createElement("div",{className:"App"},e)}}]),t}(a.Component);var R=o(12),j=o.n(R),N=o(13),P=o.n(N),L=(o(25),function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(p.a)(this,Object(l.a)(t).call(this,e))).getPathBlock=o.getPathBlock.bind(Object(h.a)(o)),o.handlePrevClick=o.handlePrevClick.bind(Object(h.a)(o)),o}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getPathBlock",value:function(){var e=this;return this.props.path.map(function(t,o){return r.a.createElement(r.a.Fragment,null,0!==o&&r.a.createElement("div",{style:{whiteSpace:"pre"}}," / "),r.a.createElement("div",{onClick:function(){return e.handlePathClick(o)}},t))})}},{key:"handlePathClick",value:function(e){var t=this.props.path.slice(0,e+1);console.log({oldPath:this.props.path,newPath:t}),this.props.changePath(this.props.repository,this.props.commit,t)}},{key:"handlePrevClick",value:function(){""===this.props.commit?this.props.changePath("","",[]):0===this.props.path.length?this.props.changePath(this.props.repository,"",[]):(this.props.path.pop(),this.props.changePath(this.props.repository,"",this.props.path))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Navbar"},""!==this.props.repository&&r.a.createElement("div",{className:"PrevButton",onClick:this.handlePrevClick},r.a.createElement("img",{src:j.a,alt:"Go Back"})),r.a.createElement("div",{className:"Path"},this.getPathBlock()),r.a.createElement("div",{className:"Commit"},r.a.createElement("strong",null,"Commit:")," ",""!==this.props.commit?this.props.commit:"-"),r.a.createElement("div",{className:"Repository"},r.a.createElement("strong",null,"Repository:")," ",""!==this.props.repository?this.props.repository:"-"),""===this.props.commit&&r.a.createElement("div",{className:"MergeInPeaceLogo"},r.a.createElement("img",{src:P.a,alt:"Merge in Peace Logo"})))}}]),t}(a.Component)),S=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={repository:"",commit:"",path:[],records:{},loading:!0},o.changePath=o.changePath.bind(Object(h.a)(o)),o.setCurrentRecords=o.setCurrentRecords.bind(Object(h.a)(o)),o.triggerRecordUpdate=o.triggerRecordUpdate.bind(Object(h.a)(o)),o.triggerRemove=o.triggerRemove.bind(Object(h.a)(o)),o}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=[];"/visual"!==window.location.pathname&&(e=window.location.pathname.slice(7).split("/"));var t="",o="";e.length>1&&(t=e[1]),e.length>2&&(o=e[2]),this.setState({repository:t,commit:o,path:e.slice(3)})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",function(t){null===t.state||null===t.state.repository||null===t.state.commit||null===t.state.path?e.setState({repository:"",commit:"",path:[]}):e.setState({repository:t.state.repository,commit:t.state.commit,path:t.state.path})}),this.setCurrentRecords()}},{key:"changePath",value:function(e,o,a){var r="/visual"+t.getPathString(e,o,a);console.log({pathToBePushed:r}),window.history.pushState({repository:e,commit:o,path:a},"",r),this.setState({repository:e,commit:o,path:a})}},{key:"triggerRecordUpdate",value:function(){this.setCurrentRecords()}},{key:"setCurrentRecords",value:function(){var e=this;this.setState({loading:!0});(function(e,t){return new Promise(function(o,a){var r;if(window.XMLHttpRequest){(r=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&(200===this.status?o(this.responseText):a("\nAJAX Request Rejected: "+this.responseText))};var n="?";for(var s in t)"string"!==typeof t[s]?(n+=s+"=",t[s].forEach(function(e){n+=e.toString()+","})):null!==t[s]&&(n+=s+"="+t[s].toString()),n+="&";r.open("GET",e+n,!0),r.send(JSON.stringify(t))}})})("/fetchall",{}).then(function(t){var o=JSON.parse(t);e.setState({records:o.records,loading:!1})}).catch(function(t){console.log("Nothing Here!"),e.setState({loading:!1})})}},{key:"triggerRemove",value:function(){var e=this;this.setState({loading:!0});var t="/";""!==this.state.repository&&(t+="repository/"+this.state.repository+"/",""!==this.state.commit&&(t+="commit/"+this.state.commit)),function(e,t){return new Promise(function(o,a){var r;if(window.XMLHttpRequest){(r=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&(200===this.status?o(this.responseText):a("\nAJAX Request Rejected: "+this.responseText))};var n=JSON.stringify(t);console.log({Source:"DELETEfkt",query_string:n}),r.open("DELETE",e,!0),r.send(n)}})}(t,{}).then(function(t){e.setCurrentRecords(),e.changePath("","",[])}).catch(function(t){console.log("Nothing Here!"),e.setState({loading:!1})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{repository:this.state.repository,commit:this.state.commit,path:this.state.path,changePath:this.changePath}),r.a.createElement(O,{repository:this.state.repository,commit:this.state.commit,path:this.state.path,changePath:this.changePath,triggerRecordUpdate:this.triggerRecordUpdate,triggerRemove:this.triggerRemove,records:this.state.records,loading:this.state.loading}))}}],[{key:"getPathString",value:function(e,t,o){var a="/";return""!==e&&(a+=e+"/",""!==t&&(a+=t+"/",0!==o.length&&o.forEach(function(e){a+=e+"/"}))),a}}]),t}(a.Component);o(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.6607ecd2.chunk.js.map