(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[0],[,,,,,,,,,function(t,e,o){t.exports=o.p+"media/git_logo.48f45c2e.svg"},function(t,e,o){t.exports=o.p+"media/Commit-Logo.d56da875.svg"},function(t,e,o){t.exports=o.p+"media/edit_logo.fadbd09b.svg"},function(t,e,o){t.exports=o.p+"media/BackArrow.87285bb7.svg"},function(t,e,o){t.exports=o(25)},,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);var a=o(0),r=o.n(a),n=o(8),s=o.n(n),i=o(2),c=o(3),p=o(6),h=o(4),l=o(1),m=o(5),u=(o(18),o(9)),d=o.n(u),g=(o(19),function(t){function e(){return Object(i.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"Repository",onClick:function(){return t.props.changePath(t.props.name,"",[])}},r.a.createElement("img",{className:"Logo",src:d.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label"},this.props.name))}}]),e}(a.Component)),v=o(10),f=o.n(v),y=(o(20),function(t){function e(){return Object(i.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"Commit",onClick:function(){return t.props.changePath(t.props.repository,t.props.hash,[])}},r.a.createElement("img",{className:"Logo",src:f.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label"},this.props.hash))}}]),e}(a.Component)),b=o(11),E=o.n(b),k=(o(21),function(t){function e(){return Object(i.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"Edit"},r.a.createElement("img",{className:"Logo",src:E.a,alt:"Git Logo"}),r.a.createElement("div",{className:"Label"},this.props.editObject.file_id.replace(/___/g,"/"),"(By ",this.props.editObject.user_id,")"))}}]),e}(a.Component));o(22);function C(){return r.a.createElement("div",{className:"Spinner"},r.a.createElement("div",{className:"Arc1"}),r.a.createElement("div",{className:"Arc2"}))}var O=function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(p.a)(this,Object(h.a)(e).call(this,t))).getRepoContent=o.getRepoContent.bind(Object(l.a)(o)),o.getCommitContent=o.getCommitContent.bind(Object(l.a)(o)),o.getEditContent=o.getEditContent.bind(Object(l.a)(o)),o.state={repositories:[],commits:[],edits:[]},o}return Object(m.a)(e,t),Object(c.a)(e,[{key:"getRepoContent",value:function(){var t,e=this;console.log({page:"repo",records:this.props.records});var o=this.props.records.count,a=this.props.records.ids;return t=0===o?r.a.createElement("div",{className:"Empty"},"Not keeping track of any repositories"):a.map(function(t,o){return r.a.createElement(g,{name:t,changePath:e.props.changePath})}),r.a.createElement("div",{className:"Content"},t)}},{key:"getCommitContent",value:function(){var t,e=this;console.log({page:"commit",records:this.props.records});var o=this.props.records.records[this.props.repository].count,a=this.props.records.records[this.props.repository].ids;return t=0===o?r.a.createElement("div",{className:"Empty"},"Not keeping track of any commits"):a.map(function(t,o){return r.a.createElement(y,{hash:t,changePath:e.props.changePath,repository:e.props.repository})}),r.a.createElement("div",{className:"Content"},t)}},{key:"getEditContent",value:function(){var t;console.log({page:"edit",records:this.props.records});var e=this.props.records.records[this.props.repository].records[this.props.commit].count,o=this.props.records.records[this.props.repository].records[this.props.commit].records;return t=0===e?r.a.createElement("div",{className:"Empty"},"Not keeping track of any edits"):o.map(function(t,e){return r.a.createElement(k,{editObject:t})}),r.a.createElement("div",{className:"Content"},t)}},{key:"render",value:function(){var t;return console.log({repository:this.props.repository,commit:this.props.commit}),t=this.props.loading?r.a.createElement(C,null):""===this.props.repository?this.getRepoContent():""===this.props.commit?this.getCommitContent():this.getEditContent(),r.a.createElement("div",{className:"App"},t)}}]),e}(a.Component);var j=o(12),P=o.n(j),N=(o(23),function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(p.a)(this,Object(h.a)(e).call(this,t))).getPathBlock=o.getPathBlock.bind(Object(l.a)(o)),o.handlePrevClick=o.handlePrevClick.bind(Object(l.a)(o)),o}return Object(m.a)(e,t),Object(c.a)(e,[{key:"getPathBlock",value:function(){var t=this;return this.props.path.map(function(e,o){return r.a.createElement(r.a.Fragment,null,0!==o&&r.a.createElement("div",{style:{whiteSpace:"pre"}}," / "),r.a.createElement("div",{onClick:function(){return t.handlePathClick(o)}},e))})}},{key:"handlePathClick",value:function(t){var e=this.props.path.slice(0,t+1);console.log({oldPath:this.props.path,newPath:e}),this.props.changePath(this.props.repository,this.props.commit,e)}},{key:"handlePrevClick",value:function(){""===this.props.commit?this.props.changePath("","",[]):0===this.props.path.length?this.props.changePath(this.props.repository,"",[]):(this.props.path.pop(),this.props.changePath(this.props.repository,"",this.props.path))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Navbar"},""!==this.props.repository&&r.a.createElement("div",{className:"PrevButton",onClick:this.handlePrevClick},r.a.createElement("img",{src:P.a,alt:"Go Back"})),r.a.createElement("div",{className:"Path"},this.getPathBlock()),r.a.createElement("div",{className:"Commit"},r.a.createElement("strong",null,"Commit:")," ",""!==this.props.commit?this.props.commit:"-"),r.a.createElement("div",{className:"Repository"},r.a.createElement("strong",null,"Repository:")," ",""!==this.props.repository?this.props.repository:"-"))}}]),e}(a.Component)),w=function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(p.a)(this,Object(h.a)(e).call(this,t))).state={repository:"",commit:"",path:[],records:{},loading:!0},o.changePath=o.changePath.bind(Object(l.a)(o)),o.setCurrentRecords=o.setCurrentRecords.bind(Object(l.a)(o)),o.triggerRecordUpdate=o.triggerRecordUpdate.bind(Object(l.a)(o)),o}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentWillMount",value:function(){var t=[];"/visual"!==window.location.pathname&&(t=window.location.pathname.slice(7).split("/"));var e="",o="";t.length>1&&(e=t[1]),t.length>2&&(o=t[2]),this.setState({repository:e,commit:o,path:t.slice(3)})}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("popstate",function(e){null===e.state||null===e.state.repository||null===e.state.commit||null===e.state.path?t.setState({repository:"",commit:"",path:[]}):t.setState({repository:e.state.repository,commit:e.state.commit,path:e.state.path})}),this.setCurrentRecords()}},{key:"changePath",value:function(t,o,a){var r="/visual"+e.getPathString(t,o,a);console.log({pathToBePushed:r}),window.history.pushState({repository:t,commit:o,path:a},"",r),this.setState({repository:t,commit:o,path:a})}},{key:"triggerRecordUpdate",value:function(){this.setCurrentRecords()}},{key:"setCurrentRecords",value:function(){var t=this;this.setState({loading:!0});(function(t,e){return new Promise(function(o,a){var r;if(window.XMLHttpRequest){(r=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&(200===this.status?o(this.responseText):a("\nAJAX Request Rejected: "+this.responseText))};var n="?";for(var s in e)"string"!==typeof e[s]?(n+=s+"=",e[s].forEach(function(t){n+=t.toString()+","})):null!==e[s]&&(n+=s+"="+e[s].toString()),n+="&";r.open("GET",t+n,!0),r.send(JSON.stringify(e))}})})("https://hackatum2019.herokuapp.com/fetchall",{}).then(function(e){var o=JSON.parse(e);t.setState({records:o.records,loading:!1})}).catch(function(e){console.log("Nothing Here!"),t.setState({loading:!1})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{repository:this.state.repository,commit:this.state.commit,path:this.state.path,changePath:this.changePath}),r.a.createElement(O,{repository:this.state.repository,commit:this.state.commit,path:this.state.path,changePath:this.changePath,triggerRecordUpdate:this.triggerRecordUpdate,records:this.state.records,loading:this.state.loading}))}}],[{key:"getPathString",value:function(t,e,o){var a="/";return""!==t&&(a+=t+"/",""!==e&&(a+=e+"/",0!==o.length&&o.forEach(function(t){a+=t+"/"}))),a}}]),e}(a.Component);o(24),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.02fcc592.chunk.js.map